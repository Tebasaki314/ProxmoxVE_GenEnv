# 仮想マシンとK8sクラスタの構築手順

このプロジェクトでは、Proxmox VE上に仮想マシンを作成し、Kubernetesクラスタを構築するためのスクリプトを提供します。

## ファイル構成

- `vm-config.yaml`: 仮想マシンとネットワークの設定ファイル
- `create-vms.sh`: 仮想マシンを作成するスクリプト
- `setup-k8s.sh`: Kubernetesクラスタを構築するスクリプト

## 使い方

### 1. 設定ファイルの編集

まず、`vm-config.yaml` ファイルを編集して、仮想マシンやネットワークの設定を行います。

### 2. 仮想マシンの作成

次に、`create-vms.sh` スクリプトを実行して仮想マシンを作成します。このスクリプトは、Proxmox VEの管理ノード上で実行してください。

```bash
bash create-vms.sh
```

このスクリプトは、設定ファイルに基づいて仮想マシンを作成し、クラウドイメージを使用して初期設定を行います。

### 3. Kubernetesクラスタの構築

最後に、`setup-k8s.sh` スクリプトを実行してKubernetesクラスタを構築します。このスクリプトは、Kubernetesクラスタのマスターノード上で実行してください。

```bash
bash setup-k8s.sh
```

このスクリプトは、マスターノードにKubernetesをインストールし、クラスタを初期化します。その後、ワーカーノードをクラスタに参加させ、ネットワークプラグインをインストールします。

## 注意事項

- スクリプトを実行する前に、Proxmox VEの環境が正しく設定されていることを確認してください。
- `vm-config.yaml` ファイルの内容を適宜変更して、環境に合わせた設定を行ってください。
